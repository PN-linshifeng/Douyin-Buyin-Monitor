# Douyin Monitor Backend

Douyin Buyin Monitor çš„åç«¯æœåŠ¡ï¼ŒåŸºäº Node.js Express å¼€å‘ã€‚
æä¾›ç”¨æˆ·é‰´æƒã€æ•°æ®ç®¡ç†åŠå‰ç«¯æ’ä»¶çš„æ ¸å¿ƒè„šæœ¬æ‰˜ç®¡æœåŠ¡ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§
- **ç”¨æˆ·é‰´æƒ**ï¼šæ”¯æŒåŠ å¯†æ‰‹æœºå·éªŒè¯ + Token æœºåˆ¶ã€‚
- **è‡ªåŠ¨ç™»å½•**ï¼šæä¾›é‰´æƒæ£€æŸ¥æ¥å£ï¼Œæ”¯æŒæ’ä»¶é™é»˜ç™»å½•ã€‚
- **ç®¡ç†åå°**ï¼šå†…ç½®ç®€æ˜“çš„ Web ç®¡ç†ç•Œé¢ï¼Œç”¨äºç®¡ç†æˆæƒç”¨æˆ·å’Œè¿‡æœŸæ—¶é—´ã€‚
- **è„šæœ¬æ‰˜ç®¡**ï¼šåŠ¨æ€ä¸‹å‘ `product_info.js` ç­‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿å·²å®‰è£… [Node.js](https://nodejs.org/) (å»ºè®® v14+)ã€‚

### 2. å®‰è£…ä¾èµ–
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š
```bash
npm install
```

### 3. å¼€å‘æ¨¡å¼ (çƒ­åˆ·æ–°)
åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¨èä½¿ç”¨å¼€å‘æ¨¡å¼ã€‚è¯¥æ¨¡å¼ä¸‹ä¿®æ”¹æ–‡ä»¶ä¼šè‡ªåŠ¨é‡å¯æœåŠ¡ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯ã€‚
```bash
npm run dev
```
- æœåŠ¡åœ°å€ï¼š`http://localhost:3000`
- ç›‘å¬æ—¥å¿—ä¼šç›´æ¥è¾“å‡ºåœ¨ç»ˆç«¯ã€‚

### 4. æ•°æ®åˆå§‹åŒ– (å¯é€‰)
å¦‚æœéœ€è¦é‡ç½®æµ‹è¯•æ•°æ®ï¼ˆå«é»˜è®¤ç®¡ç†å‘˜å¯†ç å’Œæµ‹è¯•ç”¨æˆ·ï¼‰ï¼š
```bash
# é‡ç½®ç®¡ç†å‘˜å¯†ç ä¸º 123456
node reset_admin.js

# é‡ç½®æµ‹è¯•ç”¨æˆ· (æ‰‹æœºå· 13800138000)
node init_data.js
```

---

## ğŸ›  éƒ¨ç½²æŒ‡å—

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ PM2 (æ¨è)
[PM2](https://pm2.keymetrics.io/) æ˜¯ Node.js ç”Ÿäº§ç¯å¢ƒè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œæ”¯æŒåå°è¿è¡Œã€è‡ªåŠ¨é‡å¯ã€æ—¥å¿—ç®¡ç†ã€‚

1. **å…¨å±€å®‰è£… PM2**:
   ```bash
   npm install pm2 -g
   ```

2. **å¯åŠ¨æœåŠ¡**:
   ```bash
   pm2 start server.js --name buyin-backend
   ```

3. **å¸¸ç”¨ç®¡ç†å‘½ä»¤**:
   - æŸ¥çœ‹çŠ¶æ€ï¼š`pm2 status`
   - æŸ¥çœ‹æ—¥å¿—ï¼š`pm2 logs buyin-backend`
   - é‡å¯æœåŠ¡ï¼š`pm2 restart buyin-backend`
   - åœæ­¢æœåŠ¡ï¼š`pm2 stop buyin-backend`

### æ–¹å¼äºŒï¼šä½¿ç”¨ Nohup (ç®€å•)
å¦‚æœä½ ä¸æƒ³å®‰è£… PM2ï¼Œå¯ä»¥ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ `nohup` åœ¨åå°è¿è¡Œã€‚

1. **åå°å¯åŠ¨**:
   ```bash
   nohup npm start > server.log 2>&1 &
   ```
2. **åœæ­¢æœåŠ¡**:
   éœ€è¦å…ˆæŸ¥æ‰¾è¿›ç¨‹ ID (PID) ç„¶åæ€æ‰ã€‚
   ```bash
   # æŸ¥æ‰¾ PID
   lsof -i :3000
   # åœæ­¢ (æ›¿æ¢ <PID>)
   kill <PID>
   ```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```text
buyin_monitor_backend/
â”œâ”€â”€ public/                 # é™æ€èµ„æºç›®å½• (æ‰˜ç®¡æ ¸å¿ƒ JS)
â”‚   â”œâ”€â”€ login_system.html          # ç®¡ç†å‘˜ç™»å½•é¡µ
â”‚   â”œâ”€â”€ dashboard.html      # ç”¨æˆ·ç®¡ç†åå°
â”‚   â”œâ”€â”€ product_info.js     # æ’ä»¶æ ¸å¿ƒé€»è¾‘ 1
â”‚   â””â”€â”€ product_list.js     # æ’ä»¶æ ¸å¿ƒé€»è¾‘ 2
â”œâ”€â”€ admin.json              # ç®¡ç†å‘˜æ•°æ® (åŠ å¯†å­˜å‚¨)
â”œâ”€â”€ user.json               # C ç«¯ç”¨æˆ·æ•°æ® (åŠ å¯†å­˜å‚¨)
â”œâ”€â”€ server.js               # æœåŠ¡ç«¯ä¸»ç¨‹åº
â”œâ”€â”€ reset_admin.js          # å·¥å…·è„šæœ¬ï¼šé‡ç½®ç®¡ç†å‘˜
â”œâ”€â”€ init_data.js            # å·¥å…·è„šæœ¬ï¼šé‡ç½®ç”¨æˆ·æ•°æ®
â”œâ”€â”€ API.md                  # è¯¦ç»† API æ¥å£æ–‡æ¡£
â””â”€â”€ package.json            # é¡¹ç›®é…ç½®
```

## ğŸ”’ è´¦å·è¯´æ˜

- **åå°ç®¡ç†åœ°å€**: `http://localhost:3000/login_system.html`
- **é»˜è®¤ç®¡ç†å‘˜**:
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `123456` (éœ€ä½¿ç”¨ `reset_admin.js` åˆå§‹åŒ–)
